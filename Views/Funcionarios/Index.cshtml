@model GestaoTarefas_CP.Models.ViewModels.FuncionarioViewModel

@{
    ViewData["Title"] = "Index";
}

<h1>Index</h1>

@using (Html.BeginForm()) {
<p>
    <div>
        <a class="btn btn-primary btn-sm" asp-action="Create">Novo Funcionário</a>
        <input type="text" name="searchString" value="@Model.StringSearch" placeholder=" Insira o nome" />
        <button type="submit" class="btn btn-primary btn-sm" asp-action="Index" asp-route-page="1" asp-route-searchString="@Model.StringSearch">Procurar</button>
        <a asp-action="Index" class="btn btn-info">Lista completa</a>
    </div>
</p>
}

<table class="table">
    <thead>
        <tr>
            <th>
                ID
            </th>
            <th>
                Nome
            </th>
            <th>
                Numero
            </th>
            <th>
                Escola
            </th>
            <th>
                Morada
            </th>
            <th>
                Email
            </th>
            <th>
                Telemovel
            </th>
            <th>
                NIF
            </th>
            <th></th>
        </tr>
    </thead>
    <tbody>

        @foreach (var item in Model.Funcionarios)
        {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.FuncionarioId)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Nome)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Numero)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Escola)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Morada)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Email)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Telemovel)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.NIF)
            </td>
            <td>
                <a asp-action="Edit" asp-route-id="@item.FuncionarioId">Editar</a> |
                <a asp-action="Details" asp-route-id="@item.FuncionarioId">Detalhes</a> |
                  <a asp-action="Delete" asp-route-id="@item.FuncionarioId">Remover</a>
    
            </td>
        </tr>
        }
    </tbody>
</table>

@if (Model.TotalPages > 1)
{
    @for (int i = 1; i <= Model.TotalPages; i++)
    {

        @if (i == Model.CurrentPage){
            <a href="#" class="btn btn-primary">@i</a>
        }
        else{
            <a asp-action="Index" asp-route-page="@i" class="btn btn-primary">@i</a>
        }
    }
}